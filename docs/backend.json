{
  "entities": {
    "Drama": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Drama",
      "type": "object",
      "description": "Represents a Chinese drama.",
      "properties": {
        "title": {
          "type": "string",
          "description": "Title of the drama."
        },
        "posterId": {
          "type": "string",
          "description": "ID of the drama's poster image from placeholder-images.json."
        },
        "synopsis": {
          "type": "string",
          "description": "A brief summary of the drama's plot."
        },
        "rating": {
          "type": "number",
          "description": "The drama's rating (e.g., out of 5 stars)."
        },
        "genreIds": {
          "type": "array",
          "description": "References to Genres. (Relationship: Drama N:N Genre)",
          "items": {
            "type": "string"
          }
        },
        "isTrending": {
          "type": "boolean",
          "description": "Indicates if the drama is currently trending."
        },
        "isHot": {
          "type": "boolean",
          "description": "Indicates if the drama is currently hot."
        }
      },
      "required": [
        "title",
        "posterId",
        "synopsis",
        "rating",
        "isTrending",
        "isHot"
      ]
    },
    "Genre": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Genre",
      "type": "object",
      "description": "Represents a genre of dramas.",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the genre (e.g., Romance, Historical)."
        }
      },
      "required": [
        "name"
      ]
    },
    "Episode": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Episode",
      "type": "object",
      "description": "Represents an episode of a drama.",
      "properties": {
        "dramaId": {
          "type": "string",
          "description": "Reference to Drama. (Relationship: Drama 1:N Episode)"
        },
        "episodeNumber": {
          "type": "number",
          "description": "The episode number within the drama."
        },
        "title": {
          "type": "string",
          "description": "Title of the episode."
        },
        "videoUrl": {
          "type": "string",
          "description": "URL of the video file for the episode.",
          "format": "uri"
        },
        "duration": {
          "type": "string",
          "description": "Duration of the episode (e.g., '45min')."
        },
        "description": {
          "type": "string",
          "description": "A brief summary of the episode."
        }
      },
      "required": [
        "dramaId",
        "episodeNumber",
        "title",
        "videoUrl",
        "duration",
        "description"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/dramas/{dramaId}",
        "definition": {
          "entityName": "Drama",
          "schema": {
            "$ref": "#/entities/Drama"
          },
          "description": "Stores drama entities. Includes drama id as document id."
        }
      },
      {
        "path": "/genres/{genreId}",
        "definition": {
          "entityName": "Genre",
          "schema": {
            "$ref": "#/entities/Genre"
          },
          "description": "Stores genre entities. Includes genre id as document id."
        }
      },
      {
        "path": "/episodes/{episodeId}",
        "definition": {
          "entityName": "Episode",
          "schema": {
            "$ref": "#/entities/Episode"
          },
          "description": "Stores episode entities. Includes episode id as document id."
        }
      }
    ],
    "reasoning": "The Firestore structure is designed to be simple and flat, focusing on optimizing reads for the UI. Given the lack of user-specific data or collaborative features, we can directly use top-level collections for `dramas`, `genres`, and `episodes`. This approach avoids unnecessary nesting and simplifies data access and security rules. This structure is optimized for reading data to populate the UI elements like the homepage carousel, drama grid view, genre filters, and drama details pages. There are no user specific features, so user based collections are not necessary."
  }
}
