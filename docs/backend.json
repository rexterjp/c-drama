{
  "entities": {
    "Drama": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Drama",
      "type": "object",
      "description": "Represents a Chinese drama.",
      "properties": {
        "title": {
          "type": "string",
          "description": "Title of the drama."
        },
        "posterUrl": {
          "type": "string",
          "description": "URL of the drama's poster image.",
          "format": "uri"
        },
        "isTrending": {
          "type": "boolean",
          "description": "Indicates if the drama is currently trending."
        },
        "isHot": {
          "type": "boolean",
          "description": "Indicates if the drama is currently hot."
        }
      },
      "required": [
        "title",
        "posterUrl",
        "isTrending",
        "isHot"
      ]
    },
    "Part": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Part",
      "type": "object",
      "description": "Represents a part of a drama.",
      "properties": {
        "dramaId": {
          "type": "string",
          "description": "Reference to Drama. (Relationship: Drama 1:N Part)"
        },
        "partNumber": {
          "type": "number",
          "description": "The part number within the drama."
        },
        "title": {
          "type": "string",
          "description": "Title of the part."
        },
        "videoUrl": {
          "type": "string",
          "description": "URL of the video file for the part.",
          "format": "uri"
        },
        "duration": {
          "type": "string",
          "description": "Duration of the part (e.g., '45min')."
        },
        "description": {
          "type": "string",
          "description": "A brief summary of the part."
        }
      },
      "required": [
        "dramaId",
        "partNumber",
        "title",
        "videoUrl",
        "duration",
        "description"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/dramas/{dramaId}",
        "definition": {
          "entityName": "Drama",
          "schema": {
            "$ref": "#/entities/Drama"
          },
          "description": "Stores drama entities. Includes drama id as document id."
        }
      },
      {
        "path": "/parts/{partId}",
        "definition": {
          "entityName": "Part",
          "schema": {
            "$ref": "#/entities/Part"
          },
          "description": "Stores part entities. Includes part id as document id."
        }
      }
    ],
    "reasoning": "The Firestore structure is designed to be simple and flat, focusing on optimizing reads for the UI. Given the lack of user-specific data or collaborative features, we can directly use top-level collections for `dramas` and `parts`. This approach avoids unnecessary nesting and simplifies data access and security rules. This structure is optimized for reading data to populate the UI elements like the homepage carousel, drama grid view, and drama details pages. There are no user specific features, so user based collections are not necessary."
  }
}
